<app-main-layout></app-main-layout>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<form [formGroup]="searchForm" (ngSubmit)="search()">
  <div class="container">
    <div class="filters">
      <label for="natId">Nationality Id</label>
      <input id="natId" formControlName="natId" />

      <label for="customerId">Customer Id</label>
      <input id="customerId" formControlName="customerId" />

      <label for="accNumber">Account Number</label>
      <input id="accNumber" formControlName="accNumber" />

      <label for="mobilePhone">GSM No</label>
      <input id="mobilePhone" formControlName="mobilePhone" />

      <label for="firstName">First Name</label>
      <input id="firstName" formControlName="firstName" />

      <label for="lastName">Last Name</label>
      <input id="lastName" formControlName="lastName" />

      <div class="buttons">
        <button type="button" (click)="clear()">CLEAR</button>
        <button type="submit" [disabled]="!isSearchEnabled">SEARCH</button>
      </div>
    </div>
    <div class="results">
      <div *ngIf="results.length === 0 && searched && isSearchEnabled" style="text-align: center; font-size: larger; padding-top: 20px;">
        NO RESULTS FOUND
      </div>
      <div *ngIf="!isSearchEnabled && !searched" style="text-align: center; font-size: larger; padding-top: 60px;">
        PLEASE AT LEAST FILL ONE AREA TO MAKE A RESEARCH <!-- Araştırma yapmak için en az bir alan girin mesajı -->
      </div>
      <table class="table" *ngIf="results.length > 0  && searched && isSearchEnabled">
        <!-- Tablo yalnızca sonuç varsa ve arama yapılmışsa gösterilecek -->
        <thead>
          <tr>
            <th scope="col">Customer ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Account Number</th>
            <th scope="col">Phone Number</th>
            <th scope="col">Nat ID</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let result of paginatedResults">
            <td>{{ result.customerId }}</td>
            <td>{{ result.firstName }}</td>
            <td>{{ result.lastName }}</td>
            <td>{{ result.accNumber }}</td>
            <td>{{ result.mobilePhone }}</td>
            <td>{{ result.natId }}</td>
          </tr>
        </tbody>
      </table>  
    </div>
  </div>
  <div class="pagination" >
    <button (click)="previousPage()" [disabled]="page === 1" class="previousButton">
        &lt; <!-- Sol ok -->
    </button>
    <span style=" position: absolute; bottom: -55px; left: 56%;transform: translateX(-50%);cursor: pointer;  color: white;    font-size: 16px; display: flex;gap: 10px;
    margin: 0 10px;">Page {{ page }} of {{ totalPages }} </span>
    <button (click)="nextPage()" [disabled]="page * pageSize >= totalResults" class="nextButton">
        &gt; <!-- Sağ ok -->
    </button>
</div>